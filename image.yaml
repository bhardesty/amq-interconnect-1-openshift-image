schema_version: 1

name: "amq-interconnect-1/interconnect-openshift"
description: "Red Hat AMQ Interconnect OpenShift container image"
version: "1.0.0"
from: "amq-interconnect-1/interconnect:latest"
envs:
    - name: "VERSION"
      value: "latest"
    - name: "JBOSS_HOME"
      value: "/opt/interconnect"
    - name: "ROUTER_ID"
      value: "Router.A"
    - name: "ROUTER_MODE"
      value: "standalone"
ports:
    - value: 56720
    - value: 8080
modules:
      repositories:
          - name: interconnect
            path: modules
      install:
          - name: interconnect
packages:
      repositories:
          - jboss-rhom
      install:
          - qpid-dispatch-tools
run:
      user: 185
      cmd:
         - "/opt/interconnect/bin/openshift-launch.sh"
